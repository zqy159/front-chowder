<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Git | 小册子</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="./favicons/favicon-16x16.png" type="image/png" sizes="16x16">
    <meta name="description" content="Vue 驱动的静态网站生成器">
    
    <link rel="preload" href="./assets/css/0.styles.de86551c.css" as="style"><link rel="preload" href="./assets/js/app.5d0af1a5.js" as="script"><link rel="preload" href="./assets/js/2.13f95c90.js" as="script"><link rel="preload" href="./assets/js/14.3907a112.js" as="script"><link rel="prefetch" href="./assets/js/10.0ce92d9a.js"><link rel="prefetch" href="./assets/js/11.d5a237e8.js"><link rel="prefetch" href="./assets/js/12.31c29852.js"><link rel="prefetch" href="./assets/js/13.233b3306.js"><link rel="prefetch" href="./assets/js/15.90b3e6c7.js"><link rel="prefetch" href="./assets/js/16.aa45df5b.js"><link rel="prefetch" href="./assets/js/3.c44027d5.js"><link rel="prefetch" href="./assets/js/4.7213f1bc.js"><link rel="prefetch" href="./assets/js/5.515740dd.js"><link rel="prefetch" href="./assets/js/6.3e004de3.js"><link rel="prefetch" href="./assets/js/7.9e0b5590.js"><link rel="prefetch" href="./assets/js/8.2da29dd8.js"><link rel="prefetch" href="./assets/js/9.9082b2b9.js">
    <link rel="stylesheet" href="./assets/css/0.styles.de86551c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/./" class="home-link router-link-active"><!----> <span class="site-name">小册子</span></a> <div class="links"><!----> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/./git/" aria-current="page" class="active sidebar-link">Git</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/./git/#流程图" class="sidebar-link">流程图</a></li><li class="sidebar-sub-header"><a href="/./git/#新建代码库" class="sidebar-link">新建代码库</a></li><li class="sidebar-sub-header"><a href="/./git/#配置-git" class="sidebar-link">配置 git</a></li><li class="sidebar-sub-header"><a href="/./git/#增加删除文件" class="sidebar-link">增加删除文件</a></li><li class="sidebar-sub-header"><a href="/./git/#代码提交" class="sidebar-link">代码提交</a></li><li class="sidebar-sub-header"><a href="/./git/#提交撤销" class="sidebar-link">提交撤销</a></li><li class="sidebar-sub-header"><a href="/./git/#查看信息" class="sidebar-link">查看信息</a></li><li class="sidebar-sub-header"><a href="/./git/#分支" class="sidebar-link">分支</a></li><li class="sidebar-sub-header"><a href="/./git/#标签" class="sidebar-link">标签</a></li><li class="sidebar-sub-header"><a href="/./git/#远程同步" class="sidebar-link">远程同步</a></li></ul></li><li><a href="/./self_tools/" class="sidebar-link">vjm</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="git"><a href="#git" class="header-anchor">#</a> Git</h1> <h2 id="流程图"><a href="#流程图" class="header-anchor">#</a> 流程图</h2> <img src="./images/git_workflows.png" alt="foo" style="margin-top:10px;"> <p>Workspace：工作区</p> <p>Index / Stage：暂存区</p> <p>Repository：仓库区（或本地仓库）</p> <p>Remote：远程仓库</p> <h2 id="新建代码库"><a href="#新建代码库" class="header-anchor">#</a> 新建代码库</h2> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> init <span class="token comment"># 当前目录新建一个代码库</span>
$ <span class="token function">git</span> init <span class="token punctuation">[</span>project-name<span class="token punctuation">]</span> <span class="token comment"># 当前目录新建一个代码库并指定项目名称</span>
$ <span class="token function">git</span> clone <span class="token punctuation">[</span>project-email<span class="token punctuation">]</span> <span class="token comment"># 从远端下载一个项目到本地</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="配置-git"><a href="#配置-git" class="header-anchor">#</a> 配置 git</h2> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> config <span class="token parameter variable">--list</span> <span class="token comment"># 查看代码库信息</span>
$ <span class="token function">git</span> config <span class="token parameter variable">--global</span> user.name 用户名  <span class="token comment"># 设置提交的用户名</span>
$ <span class="token function">git</span> config <span class="token parameter variable">--global</span> user.email 用户邮箱 <span class="token comment"># 设置提交的邮箱地址</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="增加删除文件"><a href="#增加删除文件" class="header-anchor">#</a> 增加删除文件</h2> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> <span class="token function">add</span> file1 file2 <span class="token comment"># 添加指定文件及目录到暂存区</span>
$ <span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span> <span class="token comment"># 添加所有当前目录在工作区的文件到暂存区</span>
$ <span class="token function">git</span> <span class="token function">rm</span> file1 file2 <span class="token comment"># 将指定文件删除并将这次删除记录在暂存区</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="代码提交"><a href="#代码提交" class="header-anchor">#</a> 代码提交</h2> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> commit file1 <span class="token function">dir</span> <span class="token parameter variable">-m</span> <span class="token punctuation">[</span>message<span class="token punctuation">]</span> <span class="token comment"># 将暂存区指定文件及目录的修改提交到版本库</span>
$ <span class="token function">git</span> commit <span class="token parameter variable">-m</span> <span class="token punctuation">[</span>message<span class="token punctuation">]</span> <span class="token comment"># 将暂存区当前目录的修改提交到版本库</span>
$ <span class="token function">git</span> commit <span class="token parameter variable">--amend</span> <span class="token parameter variable">-m</span> <span class="token punctuation">[</span>message<span class="token punctuation">]</span> <span class="token comment"># 重置上一次提交到工作区一起提交到版本库</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="提交撤销"><a href="#提交撤销" class="header-anchor">#</a> 提交撤销</h2> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> checkout <span class="token punctuation">[</span>file<span class="token punctuation">]</span> <span class="token comment"># 恢复暂存区的指定文件到工作区</span>
$ <span class="token function">git</span> checkout <span class="token punctuation">[</span>commit<span class="token punctuation">]</span> <span class="token punctuation">[</span>file<span class="token punctuation">]</span> <span class="token comment"># 恢复某个commit的指定文件到暂存区和工作区</span>
$ <span class="token function">git</span> checkout <span class="token builtin class-name">.</span> <span class="token comment"># 恢复暂存区的所有文件到工作区</span>
$ <span class="token function">git</span> reset <span class="token punctuation">[</span>commit<span class="token punctuation">]</span> <span class="token comment"># 重置当前分支的指针为指定commit，同时重置暂存区，但工作区不变</span>
$ <span class="token function">git</span> reset <span class="token parameter variable">--hard</span> <span class="token punctuation">[</span>commit<span class="token punctuation">]</span> <span class="token comment"># 彻底回退到某个版本,暂存区和工作区都会与commit一致</span>
$ <span class="token function">git</span> stash <span class="token comment"># 暂时将未提交的变化移除，稍后再移入</span>
$ <span class="token function">git</span> stash list <span class="token comment"># 查看stash</span>
$ <span class="token function">git</span> stash pop <span class="token comment"># 一如stash中的内容</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="查看信息"><a href="#查看信息" class="header-anchor">#</a> 查看信息</h2> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">git</span> status <span class="token comment"># 显示变更的文件</span>
$ <span class="token function">git</span> log <span class="token comment"># 显示当前分支的版本了历史</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="分支"><a href="#分支" class="header-anchor">#</a> 分支</h2> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> branch <span class="token comment"># 查看本地分支</span>
$ <span class="token function">git</span> branch <span class="token parameter variable">-r</span> <span class="token comment"># 查看远程分支</span>
$ <span class="token function">git</span> branch <span class="token parameter variable">-a</span> <span class="token comment"># 查看所有分支</span>
$ <span class="token function">git</span> branch <span class="token punctuation">[</span>branch<span class="token punctuation">]</span> <span class="token comment"># 创建分支</span>
$ <span class="token function">git</span> branch <span class="token punctuation">[</span>branch<span class="token punctuation">]</span> <span class="token punctuation">[</span>commit<span class="token punctuation">]</span> <span class="token comment"># 新建一个分支，指向指定commit</span>
$ <span class="token function">git</span> checkout <span class="token punctuation">[</span>branch<span class="token punctuation">]</span> <span class="token comment"># 切换分支</span>
$ <span class="token function">git</span> checkout <span class="token parameter variable">-b</span> <span class="token punctuation">[</span>branch<span class="token punctuation">]</span> <span class="token comment"># 创建并切换分支</span>
$ <span class="token function">git</span> branch <span class="token parameter variable">-d</span> <span class="token punctuation">[</span>branch<span class="token punctuation">]</span> <span class="token comment"># 删除本地分支</span>
$ <span class="token function">git</span> push origin <span class="token parameter variable">--delete</span> <span class="token punctuation">[</span>branch<span class="token punctuation">]</span> <span class="token comment"># 删除远端分支</span>
$ <span class="token function">git</span> branch --set-upstream <span class="token punctuation">[</span>branch<span class="token punctuation">]</span> <span class="token punctuation">[</span>remote-branch<span class="token punctuation">]</span> <span class="token comment"># 建立追踪关系，在现有分支与指定的远程分支之间</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="标签"><a href="#标签" class="header-anchor">#</a> 标签</h2> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> tag <span class="token comment"># 查看本地标签</span>
$ <span class="token function">git</span> tag <span class="token punctuation">[</span>tag<span class="token punctuation">]</span> <span class="token punctuation">[</span>commit<span class="token punctuation">]</span><span class="token comment"># 新建一个tag在指定commit</span>
$ <span class="token function">git</span> tag <span class="token punctuation">[</span>tag<span class="token punctuation">]</span> <span class="token comment"># 新建一个tag在当前commit</span>
$ <span class="token function">git</span> tag <span class="token parameter variable">-d</span> <span class="token punctuation">[</span>tag<span class="token punctuation">]</span> <span class="token comment"># 删除本地tag</span>
$ <span class="token function">git</span> push origin :refs/tags/<span class="token punctuation">[</span>tagName<span class="token punctuation">]</span> <span class="token comment"># 删除远程tag</span>
$ <span class="token function">git</span> show <span class="token punctuation">[</span>tag<span class="token punctuation">]</span> <span class="token comment"># 查看tag信息</span>
$ <span class="token function">git</span> push <span class="token punctuation">[</span>remote<span class="token punctuation">]</span> <span class="token punctuation">[</span>tag<span class="token punctuation">]</span> <span class="token comment"># 提交指定tag</span>
$ <span class="token function">git</span> push <span class="token punctuation">[</span>remote<span class="token punctuation">]</span> <span class="token parameter variable">--tags</span> <span class="token comment"># 提交所有tag</span>
$ <span class="token function">git</span> checkout <span class="token parameter variable">-b</span> <span class="token punctuation">[</span>branch<span class="token punctuation">]</span> <span class="token punctuation">[</span>tag<span class="token punctuation">]</span> <span class="token comment"># 新建一个分支，指向某个tag</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="远程同步"><a href="#远程同步" class="header-anchor">#</a> 远程同步</h2> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> remote set-url origin <span class="token punctuation">[</span>url<span class="token punctuation">]</span> <span class="token comment"># 设置远端推送地址</span>
$ <span class="token function">git</span> checkout <span class="token parameter variable">-b</span> <span class="token punctuation">[</span>newBrach<span class="token punctuation">]</span> origin/master <span class="token comment"># 基于远端(origin/master) 创建并切换分支</span>
$ <span class="token function">git</span> fetch origin master <span class="token comment"># 从远程主机的master分支拉取最新内容(拉取到版本库,pull=fetch +merge)</span>
$ <span class="token function">git</span> pull origin master:<span class="token punctuation">[</span>branch<span class="token punctuation">]</span> <span class="token comment"># 将远端master分支拉下来和本地指定分支进行合并(需要操作的放前面)</span>
$ <span class="token function">git</span> push origin <span class="token punctuation">[</span>branch<span class="token punctuation">]</span>:master <span class="token comment"># 推送到远端的master分支(需要操作的放前面)</span>
$ <span class="token function">git</span> push origin <span class="token punctuation">[</span>branch<span class="token punctuation">]</span>:master <span class="token parameter variable">--force</span>  <span class="token comment"># 强行推送当前分支到远程仓库并覆盖</span>
$ <span class="token function">git</span> checkout <span class="token builtin class-name">.</span> <span class="token comment"># 撤销文件修改</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/./self_tools/">
        vjm
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="./assets/js/app.5d0af1a5.js" defer></script><script src="./assets/js/2.13f95c90.js" defer></script><script src="./assets/js/14.3907a112.js" defer></script>
  </body>
</html>
